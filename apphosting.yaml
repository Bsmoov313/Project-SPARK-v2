# apphosting.yaml â€“ Firebase App Hosting config for SPARK v2 (Node.js)

run:
  cpu: 1
  memoryMiB: 512
  minInstances: 0
  maxInstances: 3

env:
  # Secrets pulled from Secret Manager
  secrets:
    - variable: GOOGLE_CLIENT_ID
      secret: GOOGLE_CLIENT_ID
    - variable: GOOGLE_CLIENT_SECRET
      secret: GOOGLE_CLIENT_SECRET
    - variable: GOOGLE_REFRESH_TOKEN
      secret: GOOGLE_REFRESH_TOKEN

  # Plain environment variables (must be a list of {variable, value})
  variables:
    - variable: NODE_ENV
      value: "production"

    # copy your actual hosted URL here
    - variable: APP_HOST_URL
      value: "https://project-spark-v2--project-spark-v2.us-central1.hosted.app"

    # for quick testing we point to the local echo endpoint
    - variable: PROCESS_WEBHOOK_URL
      value: "https://project-spark-v2--project-spark-v2.us-central1.hosted.app/dev/echo"

    # put your real Drive root folder ID when ready
    - variable: DRIVE_FOLDER_ID
      value: ""

    # optional shared secret used by /drive/notify
    - variable: DRIVE_VERIFY_TOKEN
      value: ""
